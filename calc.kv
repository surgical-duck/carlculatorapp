MainWidget:

<Button>:
    font_size:dp(30)
    font_name: 'lcd.ttf'

<MainWidget>:
    name: 'simple'
    display: display

    GridLayout:
        rows: 2
        cols: 1
        size: root.width, root.height
        padding: dp(20)
        spacing: dp(20)

        Label:
            id: display
            size_hint_y: 0.25
            canvas.before:
                Color:
                    rgba: 0.2, 0.2, 0.2, 1
                Rectangle:
                    size: display.size
                    pos: display.pos
            text:""
            font_size:dp(45)
            font_name: 'lcd.ttf'
            halign: 'right'
            valign: 'middle'
            text_size: self.width*0.9, self.height
            shorten: True
            shorten_from: 'left'
                
        GridLayout:
            rows: 4
            cols: 4
            size_hint_y: 0.75
            spacing: dp(3)

            Button:
                text: '7'
                on_press: display.text += self.text
            Button:
                text: '8'
                on_press: display.text += self.text
            Button:
                text: '9'
                on_press: display.text += self.text
            Button:
                text: '*'
                on_press: root.handle_operators(self.text)
            
            Button:
                text: '4'
                on_press: display.text += self.text
            Button:
                text: '5'
                on_press: display.text += self.text
            Button:
                text: '6'
                on_press: display.text += self.text
            Button:
                text: '/'
                on_press: root.handle_operators(self.text)
            
            Button:
                text: '1'
                on_press: display.text += self.text
            Button:
                text: '2'
                on_press: display.text += self.text
            Button:
                text: '3'
                on_press: display.text += self.text
            Button:
                text: '+'
                on_press: root.handle_operators(self.text)

            Button:
                text: 'AC'
                background_color: 1, 0.4, 0.4, 1
                on_press: display.text = ''
            Button:
                text: '0'
                on_press: display.text += self.text
            Button:
                text: '='
                background_color: 0.4, 0.4, 1, 1
                on_press: display.text = root.evaluate_expression(display.text)
            Button:
                text: '-'
                on_press: root.handle_operators(self.text)